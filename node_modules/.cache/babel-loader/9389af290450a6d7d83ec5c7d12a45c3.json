{"ast":null,"code":"import _regeneratorRuntime from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dev/Documents/Dev/ais/src/views/Base/Forms/List.js\";\nimport React, { Component } from 'react';\nimport { Col, Row, Table, Button } from 'reactstrap';\nimport * as moment from 'moment';\nimport 'moment/locale/ru';\n\nvar List =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(List, _Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n    _this.state = {\n      formsdata: [],\n      accomp_sheet: -1,\n      briefcase: -1,\n      form_number: -1,\n      formId: -1,\n      form_id: -1,\n      created: ''\n    };\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"FetchData\",\n    value: function () {\n      var _FetchData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"http://localhost:8000/form_1\").then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  _this2.setState({\n                    formsdata: data.data\n                  });\n\n                  console.log(_this2.state.formsdata);\n                }).catch(function (error) {\n                  return console.error(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function FetchData() {\n        return _FetchData.apply(this, arguments);\n      }\n\n      return FetchData;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.FetchData();\n    }\n  }, {\n    key: \"tabtoggle\",\n    value: function tabtoggle(tab) {\n      if (this.state.activeTab !== tab) {\n        this.setState({\n          activeTab: tab\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"table-outline mb-0 d-none d-sm-table\",\n        responsive: true,\n        hover: true,\n        bordered: true,\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"\\u2116 \\u043B\\u0438\\u0441\\u0442\\u0430\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"\\u2116 \\u043F\\u043E\\u0440\\u0442\\u0444\\u0435\\u043B\\u044F\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"\\u2116 \\u043F\\u0435\\u0440\\u0435\\u043F\\u0438\\u0441\\u043D\\u043E\\u0433\\u043E \\u043E\\u0442\\u0434\\u0435\\u043B\\u0430\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"\\u2116 \\u0438\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0442\\u043E\\u0440\\u0441\\u043A\\u043E\\u0433\\u043E \\u0443\\u0447\\u0430\\u0441\\u0442\\u043A\\u0430\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"\\u2116 \\u0441\\u0447\\u0435\\u0442\\u043D\\u043E\\u0433\\u043E \\u0443\\u0447\\u0430\\u0441\\u0442\\u043A\\u0430\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u2116 \\u0444\\u043E\\u0440\\u043C\\u044B\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"\\u041A\\u043E\\u0434 \\u0421\\u041E\\u0410\\u0422\\u0415\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.state.formsdata.map(function (form, index) {\n        return React.createElement(\"tr\", {\n          key: form.id.toString(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(Button, {\n          name: \"Edit\",\n          id: form.id.toString(),\n          className: \"fa fa-pencil btn-square\",\n          size: \"sm\",\n          color: \"primary\",\n          onClick: function onClick() {\n            _this3.props.toggleEdit(form.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }), ' ', React.createElement(Button, {\n          name: \"Del\",\n          id: form.id.toString(),\n          className: \"fa fa-minus btn-square\",\n          size: \"sm\",\n          color: \"danger\",\n          onClick: _this3.toggleDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, form.sheet), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, form.briefcase), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, form.dept_no), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, form.instructor_sector_no), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, form.counting_sector_no), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, form.form_number !== null ? \"\\u0424\\u043E\\u0440\\u043C\\u0430 - \".concat(form.form_number) : ''), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, form.nsc_soate_code), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, moment(form.created).format('l')));\n      } // <formRow key={index} form={form}/>\n      )))));\n    }\n  }]);\n\n  return List;\n}(Component);\n\nexport default List;","map":{"version":3,"sources":["/home/dev/Documents/Dev/ais/src/views/Base/Forms/List.js"],"names":["React","Component","Col","Row","Table","Button","moment","List","props","state","formsdata","accomp_sheet","briefcase","form_number","formId","form_id","created","fetch","then","response","json","data","setState","console","log","catch","error","FetchData","tab","activeTab","map","form","index","id","toString","toggleEdit","toggleDelete","sheet","dept_no","instructor_sector_no","counting_sector_no","nsc_soate_code","format"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Col,\n  Row,\n  Table,\n  Button,\n} from 'reactstrap';\nimport * as moment from 'moment';\nimport 'moment/locale/ru';\n\n\n\nclass List extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      formsdata:[],\n      accomp_sheet: -1,\n      briefcase: -1,\n      form_number: -1,\n      formId: -1,\n      form_id: -1,\n      created: '',\n    };\n  }\n\n  async FetchData() {\n    await fetch(`http://localhost:8000/form_1`)\n        .then(response => response.json())\n        .then(data => {\n          this.setState({formsdata: data.data});\n          console.log(this.state.formsdata) \n        })\n        .catch(error => console.error(error))\n  } \n\n  \n  componentDidMount(){\n    this.FetchData();\n  }\n\n  tabtoggle(tab) {\n    if (this.state.activeTab !== tab) {\n      this.setState({\n        activeTab: tab\n      });\n    }\n  }\n\n\n  render() {\n\n    return (\n      <Row>\n        <Col sm=\"12\">\n          <Table className=\"table-outline mb-0 d-none d-sm-table\" responsive hover bordered size=\"sm\">\n            <thead className=\"thead-light\">\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">№ листа</th>\n                <th scope=\"col\">№ портфеля</th>\n                <th scope=\"col\">№ переписного отдела</th>\n                <th scope=\"col\">№ инструкторского участка</th>\n                <th scope=\"col\">№ счетного участка</th>\n                <th scope=\"col\">№ формы</th>\n                <th scope=\"col\">Код СОАТЕ</th>\n                <th scope=\"col\">Создан</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.formsdata.map((form, index) =>\n                <tr key={form.id.toString()}>\n                  <td>\n                    <Button name=\"Edit\" id={form.id.toString()} className=\"fa fa-pencil btn-square\" size=\"sm\" color=\"primary\" onClick={() => { this.props.toggleEdit(form.id)}} ></Button>{' '}\n                    <Button name=\"Del\" id={form.id.toString()} className=\"fa fa-minus btn-square\" size=\"sm\" color=\"danger\" onClick={this.toggleDelete}></Button>\n                  </td>\n                  <td>{form.sheet}</td>\n                  <td>{form.briefcase}</td>\n                  <td>{form.dept_no}</td>\n                  <td>{form.instructor_sector_no}</td>\n                  <td>{form.counting_sector_no}</td>\n                  <td>{form.form_number !== null ? `Форма - ${form.form_number}` : ''}</td>\n                  <td>{form.nsc_soate_code}</td>\n                  <td>{moment(form.created).format('l')}</td>\n                </tr>\n                // <formRow key={index} form={form}/>\n              )}\n            </tbody>\n          </Table>\n        </Col>\n      </Row>\n    )\n  }\n}\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}