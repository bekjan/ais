{"ast":null,"code":"import _defineProperty from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/dev/Documents/Dev/ais/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/dev/Documents/Dev/ais/src/views/Users/Users.js\";\nimport React, { Component } from 'react';\nimport { Card, CardBody, CardHeader, Col, Row, Table, Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input } from 'reactstrap';\n\nfunction Dateformat(ds) {\n  var dat = new Date(ds);\n  return dat.toLocaleDateString(\"ru-Ru\");\n}\n\nvar Users =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Users, _Component);\n\n  function Users(props) {\n    var _this;\n\n    _classCallCheck(this, Users);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Users).call(this, props));\n    _this.state = {\n      usersdata: [],\n      userroles: [],\n      large: false,\n      operation: '',\n      id: '',\n      uname: '',\n      fname: '',\n      unumber: '',\n      urole: 3,\n      upwd: ''\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleInput = _this.toggleInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleSubmit = _this.toggleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleEdit = _this.toggleEdit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleNew = _this.toggleNew.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleDelete = _this.toggleDelete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Users, [{\n    key: \"FetchData\",\n    value: function () {\n      var _FetchData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"ttp://212.42.101.110:8000/users\").then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  _this2.setState({\n                    usersdata: data.data\n                  });\n\n                  console.log(data.data);\n                }).catch(function (error) {\n                  return console.error(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function FetchData() {\n        return _FetchData.apply(this, arguments);\n      }\n\n      return FetchData;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.FetchData();\n    }\n  }, {\n    key: \"toggleInput\",\n    value: function toggleInput() {\n      this.setState({\n        large: !this.state.large\n      });\n    }\n  }, {\n    key: \"toggleNew\",\n    value: function toggleNew() {\n      this.setState({\n        large: !this.state.large,\n        operation: 'new',\n        uname: '',\n        fname: '',\n        unumber: '',\n        urole: 3,\n        upwd: ''\n      });\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(event) {\n      console.log(event);\n      var name = event.target.name;\n      this.setState(_defineProperty({}, name, event.target.value));\n    }\n  }, {\n    key: \"toggleSubmit\",\n    value: function () {\n      var _toggleSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var user, id;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user = {\n                  username: this.state.uname,\n                  fullname: this.state.fname,\n                  pwd: this.state.upwd,\n                  user_number: this.state.unumber,\n                  user_role: this.state.urole,\n                  create_by: 1\n                };\n                console.log(user);\n\n                if (!(this.state.operation === 'new')) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                _context2.next = 5;\n                return fetch(\"ttp://212.42.101.110:8000/users\", {\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                  },\n                  method: \"POST\",\n                  body: JSON.stringify(user)\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  console.log(data);\n                }).catch(function (error) {\n                  return console.error(error);\n                });\n\n              case 5:\n                if (!(this.state.operation === 'edit')) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                id = this.state.id;\n                _context2.next = 9;\n                return fetch(\"ttp://212.42.101.110:8000/users\", {\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                  },\n                  method: \"PUT\",\n                  body: JSON.stringify({\n                    id: id,\n                    data: user\n                  })\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  console.log(data);\n                }).catch(function (error) {\n                  return console.error(error);\n                });\n\n              case 9:\n                this.toggleInput();\n                this.FetchData();\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function toggleSubmit() {\n        return _toggleSubmit.apply(this, arguments);\n      }\n\n      return toggleSubmit;\n    }()\n  }, {\n    key: \"toggleEdit\",\n    value: function () {\n      var _toggleEdit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(event) {\n        var _this3 = this;\n\n        var id;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                id = event.target.id;\n                this.toggleInput();\n                _context3.next = 4;\n                return fetch(\"ttp://212.42.101.110:8000/users/id/\".concat(event.target.id)).then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  // this.setState({usersdata: data.data});\n                  console.log(data.data);\n                  var editdata = data.data[0];\n\n                  _this3.setState({\n                    id: id,\n                    operation: 'edit',\n                    uname: editdata.username,\n                    fname: editdata.fullname,\n                    unumber: editdata.user_number !== null ? editdata.user_number : '',\n                    urole: editdata.user_role,\n                    upwd: editdata.pwd\n                  });\n                }).catch(function (error) {\n                  return console.error(error);\n                });\n\n              case 4:\n                // this.toggleInput();\n                this.FetchData();\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function toggleEdit(_x) {\n        return _toggleEdit.apply(this, arguments);\n      }\n\n      return toggleEdit;\n    }()\n  }, {\n    key: \"toggleDelete\",\n    value: function () {\n      var _toggleDelete = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(event) {\n        var id, res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                id = event.target.id;\n                res = window.confirm(\"Удалить запись...\");\n                console.log(id, res);\n\n                if (!res) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 6;\n                return fetch(\"ttp://212.42.101.110:8000/users\", {\n                  headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                  },\n                  method: \"DELETE\",\n                  body: JSON.stringify({\n                    id: id\n                  })\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  console.log(data);\n                }).catch(function (error) {\n                  return console.error(error);\n                });\n\n              case 6:\n                this.FetchData();\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function toggleDelete(_x2) {\n        return _toggleDelete.apply(this, arguments);\n      }\n\n      return toggleDelete;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xl: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), \" \\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\", React.createElement(Button, {\n        onClick: this.toggleNew,\n        color: \"primary\",\n        className: \"fa fa-user-plus btn-square mr-1 float-right\",\n        size: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \" \\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"), React.createElement(Modal, {\n        isOpen: this.state.large,\n        toggle: this.toggleInput,\n        className: 'modal-lg ' + this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: this.toggleInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(Form, {\n        className: \"form-horizontal\",\n        action: \"submit\",\n        method: \"post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        className: \"pr-1\",\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"uname\",\n        value: this.state.uname,\n        onChange: this.onChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        className: \"pr-1\",\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F \\u0418.\\u041E.\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"fname\",\n        value: this.state.fname,\n        onChange: this.onChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        className: \"pr-1\",\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"\\u0422\\u0430\\u0431\\u0435\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"unumber\",\n        value: this.state.unumber,\n        onChange: this.onChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        className: \"pr-1\",\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"\\u041F\\u0440\\u0430\\u0432\\u0430 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"select\",\n        name: \"urole\",\n        value: this.state.urole,\n        onChange: this.onChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"\\u041E\\u043F\\u0435\\u0440\\u0430\\u0442\\u043E\\u0440\")))), React.createElement(FormGroup, {\n        className: \"pr-1\",\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"password\",\n        name: \"upwd\",\n        value: this.state.upwd,\n        onChange: this.onChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }))))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"btn-square\",\n        color: \"primary\",\n        size: \"sm\",\n        onClick: this.toggleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"), ' ', React.createElement(Button, {\n        className: \"btn-square\",\n        color: \"secondary\",\n        size: \"sm\",\n        onClick: this.toggleInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\")))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"table-outline mb-0 d-none d-sm-table\",\n        responsive: true,\n        hover: true,\n        bordered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F \\u0418.\\u041E.\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"\\u0422\\u0430\\u0431\\u0435\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"\\u041F\\u0440\\u0430\\u0432\\u0430 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, this.state.usersdata.map(function (user, index) {\n        return React.createElement(\"tr\", {\n          key: user.id.toString(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        }, React.createElement(Button, {\n          name: \"Edit\",\n          id: user.id.toString(),\n          className: \"fa fa-pencil btn-square\",\n          size: \"sm\",\n          color: \"primary\",\n          onClick: _this4.toggleEdit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }), ' ', React.createElement(Button, {\n          name: \"Del\",\n          id: user.id.toString(),\n          className: \"fa fa-minus btn-square\",\n          size: \"sm\",\n          color: \"danger\",\n          onClick: _this4.toggleDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, user.username), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, user.fullname), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, user.user_number), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, Dateformat(user.created)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, user.user_role === 1 ? 'Администратор' : user.user_role === 2 ? 'Пользователь' : user.user_role === 3 ? 'Оператор' : ''));\n      } // <UserRow key={index} user={user}/>\n      ))))))));\n    }\n  }]);\n\n  return Users;\n}(Component);\n\nexport default Users;","map":{"version":3,"sources":["/home/dev/Documents/Dev/ais/src/views/Users/Users.js"],"names":["React","Component","Card","CardBody","CardHeader","Col","Row","Table","Button","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","Input","Dateformat","ds","dat","Date","toLocaleDateString","Users","props","state","usersdata","userroles","large","operation","id","uname","fname","unumber","urole","upwd","onChange","bind","toggleInput","toggleSubmit","toggleEdit","toggleNew","toggleDelete","fetch","then","response","json","data","setState","console","log","catch","error","FetchData","event","name","target","value","user","username","fullname","pwd","user_number","user_role","create_by","headers","method","body","JSON","stringify","editdata","res","window","confirm","className","map","index","toString","created"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Card, CardBody, CardHeader, Col, Row, Table, Button, Modal, ModalHeader, ModalBody, ModalFooter, \n          Form, FormGroup, Label, Input} from 'reactstrap';\n\n\nfunction Dateformat(ds) {\n  const dat = new Date(ds)\n  return dat.toLocaleDateString(\"ru-Ru\")\n}\n\nclass Users extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      usersdata:[],\n      userroles:[],\n      large: false,\n      operation:'',\n      id:'',\n      uname:'',\n      fname:'',\n      unumber:'',\n      urole:3,\n      upwd:'',\n    };\n    this.onChange = this.onChange.bind(this);\n    this.toggleInput = this.toggleInput.bind(this);\n    this.toggleSubmit = this.toggleSubmit.bind(this);\n    this.toggleEdit = this.toggleEdit.bind(this);\n    this.toggleNew = this.toggleNew.bind(this);\n    this.toggleDelete = this.toggleDelete.bind(this);\n  }\n\n  async FetchData() {\n    await fetch(`ttp://212.42.101.110:8000/users`)\n        .then(response => response.json())\n        .then(data => {\n          this.setState({usersdata: data.data});\n          console.log(data.data) \n        })\n        .catch(error => console.error(error))\n  } \n\n  componentDidMount(){\n    this.FetchData();\n  }\n\n  toggleInput() {\n    this.setState({\n      large: !this.state.large,\n    });\n  }\n\n  toggleNew() {\n    this.setState({\n      large: !this.state.large,\n      operation: 'new',\n      uname:'',\n      fname:'',\n      unumber:'',\n      urole:3,\n      upwd:'',\n    });\n  }\n\n  onChange(event){\n    console.log(event)\n    const name = event.target.name;\n    this.setState({[name]: event.target.value});\n  }\n\n  async toggleSubmit() {\n    const user = {\n      username: this.state.uname,\n      fullname: this.state.fname,\n      pwd: this.state.upwd,\n      user_number: this.state.unumber,\n      user_role: this.state.urole,\n      create_by:1\n    }\n    console.log(user)\n    if (this.state.operation === 'new') {\n      await fetch(`ttp://212.42.101.110:8000/users`,{\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: \"POST\",\n        body: JSON.stringify(user)\n      })\n      .then(response => response.json())\n      .then(data => {\n        console.log(data) \n      })\n      .catch(error => console.error(error))\n    }\n    if (this.state.operation === 'edit') {\n      const id = this.state.id\n      await fetch(`ttp://212.42.101.110:8000/users`,{\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: \"PUT\",\n        body: JSON.stringify({id:id, data:user})\n      })\n      .then(response => response.json())\n      .then(data => {\n        console.log(data) \n      })\n      .catch(error => console.error(error))\n    }\n    this.toggleInput();\n    this.FetchData();\n  }\n\n  async toggleEdit(event) {\n    const id = event.target.id\n    this.toggleInput();\n    await fetch(`ttp://212.42.101.110:8000/users/id/${event.target.id}`)\n      .then(response => response.json())\n      .then(data => {\n        // this.setState({usersdata: data.data});\n        console.log(data.data) \n        const editdata = data.data[0]\n        this.setState({\n          id: id,\n          operation: 'edit',\n          uname: editdata.username,\n          fname: editdata.fullname,\n          unumber: editdata.user_number !== null ? editdata.user_number : '',\n          urole: editdata.user_role,\n          upwd: editdata.pwd,\n        });\n      })\n      .catch(error => console.error(error))\n    // this.toggleInput();\n    this.FetchData();\n  }\n\n  async toggleDelete(event) {\n    const id = event.target.id\n    const res = window.confirm(\"Удалить запись...\")\n    console.log(id, res)\n    if (res) {\n      await fetch(`ttp://212.42.101.110:8000/users`,{\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: \"DELETE\",\n        body: JSON.stringify({id:id})\n      })\n      .then(response => response.json())\n      .then(data => {\n        console.log(data) \n      })\n      .catch(error => console.error(error))\n\n    }\n    this.FetchData();\n  }\n\n  render() {\n    return (\n      <div className=\"animated fadeIn\">\n        <Row>\n          <Col xl={12}>\n            <Card>\n              <CardHeader>\n                <i className=\"fa fa-users\"></i> Пользователи\n                <Button onClick={this.toggleNew} color=\"primary\" className=\"fa fa-user-plus btn-square mr-1 float-right\" size=\"sm\" > Создать</Button>\n                <Modal isOpen={this.state.large} toggle={this.toggleInput}\n                       className={'modal-lg ' + this.props.className}>\n                  <ModalHeader toggle={this.toggleInput}>Пользователь</ModalHeader>\n                  <ModalBody>\n                    <Form className=\"form-horizontal\" action=\"submit\" method=\"post\">\n                      <FormGroup className=\"pr-1\" row>\n                        <Col md=\"3\">\n                          <Label>Пользователь</Label>\n                        </Col>\n                        <Col xs=\"12\" md=\"9\">\n                          <Input \n                            type=\"text\" \n                            name=\"uname\" \n                            value={this.state.uname} \n                            onChange={this.onChange}\n                            required />\n                        </Col>  \n                      </FormGroup>\n                      <FormGroup className=\"pr-1\" row>\n                        <Col md=\"3\">\n                          <Label>Фамилия И.О.</Label>\n                        </Col>\n                        <Col xs=\"12\" md=\"9\">\n                          <Input \n                            type=\"text\" \n                            name=\"fname\" \n                            value={this.state.fname} \n                            onChange={this.onChange}\n                            required />\n                        </Col>  \n                      </FormGroup>\n                      <FormGroup className=\"pr-1\" row>\n                        <Col md=\"3\">\n                          <Label>Табельный номер</Label>\n                        </Col>\n                        <Col xs=\"12\" md=\"9\">\n                          <Input \n                            type=\"text\" \n                            name=\"unumber\" \n                            value={this.state.unumber} \n                            onChange={this.onChange}\n                            required />\n                        </Col>  \n                      </FormGroup>\n                      <FormGroup className=\"pr-1\" row>\n                        <Col md=\"3\">\n                          <Label>Права доступа</Label>\n                        </Col>\n                        <Col xs=\"12\" md=\"9\">\n                          <Input \n                            type=\"select\" \n                            name=\"urole\" \n                            value={this.state.urole} \n                            onChange={this.onChange}\n                            required>\n                            <option value=\"1\">Администратор</option>\n                            <option value=\"2\">Пользователь</option>\n                            <option value=\"3\">Оператор</option>\n                          </Input>\n                        </Col>  \n                      </FormGroup>\n                      <FormGroup className=\"pr-1\" row>\n                        <Col md=\"3\">\n                          <Label>Пароль</Label>\n                        </Col>\n                        <Col xs=\"12\" md=\"9\">\n                          <Input \n                            type=\"password\" \n                            name=\"upwd\" \n                            value={this.state.upwd} \n                            onChange={this.onChange}\n                            required />\n                        </Col>  \n                      </FormGroup>\n                    </Form>\n                  </ModalBody>\n                  <ModalFooter>\n                    <Button className=\"btn-square\" color=\"primary\" size=\"sm\"  onClick={this.toggleSubmit}>Сохранить</Button>{' '}\n                    <Button className=\"btn-square\" color=\"secondary\" size=\"sm\" onClick={this.toggleInput}>Отменить</Button>\n                  </ModalFooter>\n                </Modal>\n              </CardHeader>\n              <CardBody>\n                <Table className=\"table-outline mb-0 d-none d-sm-table\" responsive hover bordered>\n                  <thead className=\"thead-light\">\n                    <tr>\n                      <th scope=\"col\"></th>\n                      <th scope=\"col\">Пользователь</th>\n                      <th scope=\"col\">Фамилия И.О.</th>\n                      <th scope=\"col\">Табельный номер</th>\n                      <th scope=\"col\">Создан</th>\n                      <th scope=\"col\">Права доступа</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {this.state.usersdata.map((user, index) =>\n                      <tr key={user.id.toString()}>\n                        <td>\n                          <Button name=\"Edit\" id={user.id.toString()} className=\"fa fa-pencil btn-square\" size=\"sm\" color=\"primary\" onClick={this.toggleEdit} ></Button>{' '}\n                          <Button name=\"Del\" id={user.id.toString()} className=\"fa fa-minus btn-square\" size=\"sm\" color=\"danger\" onClick={this.toggleDelete}></Button>    \n                        </td>\n                        <td>{user.username}</td>\n                        <td>{user.fullname}</td>\n                        <td>{user.user_number}</td>\n                        <td>{Dateformat(user.created)}</td>\n                        <td>{user.user_role === 1 ? 'Администратор' : \n                              user.user_role === 2 ? 'Пользователь' : \n                                user.user_role === 3 ? 'Оператор' : '' }</td>\n                    </tr>\n                      // <UserRow key={index} user={user}/>\n                    )}\n                  </tbody>\n                </Table>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}